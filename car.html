<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dzhoto Auto Spa & Reseller - Premium Vehicle Care</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Oswald & Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Custom Styles -->
    <style>
        :root {
            --bg-dark: #0f172a; /* Slate 900 */
            --bg-light: #1e293b; /* Slate 800 */
            --border-color: #334155; /* Slate 700 */
            --text-primary: #f1f5f9; /* Slate 100 */
            --text-secondary: #94a3b8; /* Slate 400 */
            --accent-blue: #38bdf8; /* Sky 400 */
            --accent-blue-dark: #0ea5e9; /* Sky 500 */
        }

        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary);
        }
        .font-oswald { font-family: 'Oswald', sans-serif; }

        .hero-bg {
            background: linear-gradient(rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.8)), url('https://images.unsplash.com/photo-1542362567-b07e54358753?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        
        .header-scrolled {
            background-color: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
        }

        .pricing-card, .car-card {
            background-color: var(--bg-light);
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .pricing-card:hover, .car-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            border-color: var(--accent-blue);
        }

        .modal-backdrop { display: none; transition: opacity 0.3s ease; }
        .modal-content { transition: transform 0.3s ease, opacity 0.3s ease; }
        .modal-backdrop.flex { display: flex; }

        /* Custom Date/Time Picker */
        .date-slot, .time-slot {
            transition: background-color 0.2s ease, color 0.2s ease;
            cursor: pointer;
        }
        .date-slot.selected, .time-slot.selected {
            background-color: var(--accent-blue);
            color: var(--bg-dark);
            font-weight: 600;
        }
        .time-slot.disabled {
            background-color: #334155;
            color: #64748b;
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* Before/After Gallery */
        .gallery-item {
            position: relative;
            overflow: hidden;
        }
        .gallery-item .after-image {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 50%;
            object-fit: cover;
            object-position: left;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
            transition: width 0.4s ease;
        }
        .gallery-item:hover .after-image {
            width: 100%;
        }
        .gallery-item .label {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.875rem;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px black;
        }
        .before-label {
            right: 1rem;
        }
        .after-label {
            left: 1rem;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        .gallery-item:hover .after-label {
            opacity: 1;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header id="main-header" class="fixed top-0 left-0 w-full z-40 p-5 transition-all duration-300">
        <div class="container mx-auto flex justify-between items-center">
            <a href="index.html" class="text-3xl font-oswald font-bold text-white uppercase tracking-wider">Dzhoto Auto</a>
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#services" class="text-white hover:text-sky-400 transition">Services</a>
                <a href="#forsale" class="text-white hover:text-sky-400 transition">For Sale</a>
                <a href="#gallery" class="text-white hover:text-sky-400 transition">Gallery</a>
                <a href="#contact" class="text-white hover:text-sky-400 transition">Contact</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-bg h-screen flex items-center">
        <div class="container mx-auto px-6">
            <div class="max-w-2xl text-left">
                <h1 class="text-5xl md:text-7xl font-oswald font-bold text-white uppercase leading-tight">Precision. Perfection. Performance.</h1>
                <p class="mt-4 text-xl text-gray-200">The ultimate destination for premium vehicle care and sales in Protea Glen.</p>
                <a href="#services" class="mt-8 inline-block bg-sky-500 text-white font-bold py-3 px-10 rounded-lg text-lg hover:bg-sky-600 transition shadow-lg">Explore Services</a>
            </div>
        </div>
    </section>

    <!-- Car Wash Services Section -->
    <section id="services" class="py-20">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-oswald font-bold text-white uppercase">Car Wash & Detailing</h2>
                <p class="text-lg text-gray-400 mt-2">Choose the perfect package to restore your vehicle's shine.</p>
            </div>
            <div id="pricing-tiers" class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <!-- Pricing tiers will be dynamically inserted here -->
            </div>
        </div>
    </section>

    <!-- Cars For Sale Section -->
    <section id="forsale" class="py-20 bg-black bg-opacity-20">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-oswald font-bold text-white uppercase">Curated Vehicles For Sale</h2>
                <p class="text-lg text-gray-400 mt-2">Hand-picked for quality and performance. Your next car awaits.</p>
            </div>
            <div id="car-listings" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Car listings will be dynamically inserted here -->
            </div>
        </div>
    </section>

    <!-- Before & After Gallery Section -->
    <section id="gallery" class="py-20">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-oswald font-bold text-white uppercase">The Royal Treatment Difference</h2>
                <p class="text-lg text-gray-400 mt-2">See the stunning results of our meticulous detailing process.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="gallery-item rounded-lg">
                    <img src="car-wash-before-after1.jpg" alt="Dirty car interior" class="w-full h-full object-cover">
                    <img src="car-wash-before-after2.jpg" alt="Clean car interior" class="after-image">
                    <span class="label before-label">BEFORE</span>
                    <span class="label after-label">AFTER</span>
                </div>
                <div class="gallery-item rounded-lg">
                    <img src="2994966639_7f04ed793e_b1.jpg" alt="Car with dull paint" class="w-full h-full object-cover">
                    <img src="2994966639_7f04ed793e_b2.jpg" alt="Car with glossy paint" class="after-image">
                    <span class="label before-label">BEFORE</span>
                    <span class="label after-label">AFTER</span>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-black bg-opacity-20">
        <!-- ... Contact content can be added later ... -->
    </section>

    <!-- Booking Modal -->
    <div id="booking-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 items-center justify-center p-4 modal-backdrop">
        <div class="bg-light border border-border-color rounded-lg p-8 shadow-2xl w-full max-w-3xl transform scale-95 opacity-0 modal-content">
            <div id="booking-content">
                <!-- Booking form will be injected here -->
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmation-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 items-center justify-center p-4 modal-backdrop">
        <div class="bg-light border border-border-color rounded-lg p-8 text-center shadow-2xl w-full max-w-md transform scale-95 opacity-0 modal-content">
            <h2 class="text-3xl font-oswald font-bold text-sky-400 mb-4">Booking Confirmed!</h2>
            <p class="text-lg text-gray-200 mb-2">Thank you, <span id="conf-name" class="font-bold"></span>.</p>
            <p id="conf-message" class="text-gray-300"></p>
            <button id="close-conf-modal-btn" class="mt-6 bg-sky-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-sky-600 transition">Close</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black text-gray-400">
        <div class="container mx-auto py-8 px-6 text-center">
            <h2 class="text-2xl font-oswald font-bold text-white uppercase">Dzhoto Auto</h2>
            <p class="mt-2">A Dzhoto Holdings Company</p>
            <p class="mt-4">456 Performance Drive, Protea Glen, Gauteng | contact@dzhotoauto.co.za | (012) 555-1234</p>
            <div class="mt-6 border-t border-gray-800 pt-6">
                <p>&copy; <span id="year"></span> Dzhoto Auto. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA ---
            const pricingData = [
                { name: 'Express Wash', price: 150, features: ['Exterior Foam Wash', 'High-Pressure Rinse', 'Tire Shine', 'Exterior Window Clean'] },
                { name: 'Deluxe Detail', price: 450, features: ['All Express Features', 'Interior Vacuum', 'Dashboard & Console Clean', 'Door Jambs Wiped', 'Air Freshener'] },
                { name: 'Royal Treatment', price: 850, features: ['All Deluxe Features', 'Hand Wax & Polish', 'Leather Seat Conditioning', 'Carpet & Mat Shampoo', 'Engine Bay Clean'] },
            ];

            const carData = [
                { id: 1, make: 'BMW', model: 'M4 Competition', year: 2023, price: 1850000, image: 'bmwm4_Front.webp', details: ['3.0L Twin-Turbo I6', 'Automatic', '15,000 km'] },
                { id: 2, make: 'Mercedes-Benz', model: 'G63 AMG', year: 2022, price: 3200000, image: 'https://images.unsplash.com/photo-1605559424843-9e4c228bf1c2?q=80&w=1964&auto=format&fit=crop', details: ['4.0L Bi-Turbo V8', 'Automatic', '25,000 km'] },
                { id: 3, make: 'Porsche', model: '911 GT3', year: 2023, price: 4100000, image: '298379_6000x4500.jpg', details: ['4.0L Flat-6', 'PDK', '8,000 km'] },
            ];

            // --- UI ELEMENTS ---
            const pricingTiersContainer = document.getElementById('pricing-tiers');
            const carListingsContainer = document.getElementById('car-listings');
            const bookingModal = document.getElementById('booking-modal');
            const bookingContent = document.getElementById('booking-content');
            const confirmationModal = document.getElementById('confirmation-modal');

            // --- RENDER FUNCTIONS ---
            function renderPricing() {
                pricingTiersContainer.innerHTML = pricingData.map(tier => `
                    <div class="pricing-card rounded-lg p-8 text-center flex flex-col">
                        <h3 class="text-2xl font-oswald font-bold uppercase text-sky-400">${tier.name}</h3>
                        <p class="text-5xl font-bold my-4">R${tier.price}</p>
                        <ul class="space-y-2 text-gray-300 flex-grow">
                            ${tier.features.map(f => `<li>${f}</li>`).join('')}
                        </ul>
                        <button data-service-name="${tier.name}" class="book-service-btn w-full mt-6 bg-sky-500 text-white font-bold py-2 rounded-lg hover:bg-sky-600 transition">Book Service</button>
                    </div>
                `).join('');
            }

            function renderCars() {
                carListingsContainer.innerHTML = carData.map(car => `
                    <div class="car-card rounded-lg overflow-hidden text-left">
                        <img src="${car.image}" alt="${car.make} ${car.model}" class="w-full h-56 object-cover">
                        <div class="p-6">
                            <h3 class="text-2xl font-oswald font-bold uppercase">${car.make} <span class="text-sky-400">${car.model}</span></h3>
                            <p class="text-gray-400 font-semibold">${car.year}</p>
                            <div class="flex justify-between items-center mt-4">
                                <span class="text-2xl font-bold">R ${car.price.toLocaleString('en-ZA')}</span>
                            </div>
                            <ul class="text-sm text-gray-400 mt-2 space-y-1">
                                ${car.details.map(d => `<li class="flex items-center"><svg class="w-4 h-4 mr-2 text-sky-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>${d}</li>`).join('')}
                            </ul>
                            <button data-id="${car.id}" class="book-viewing-btn w-full mt-6 bg-sky-500 text-white font-bold py-2 rounded-lg hover:bg-sky-600 transition">Book a Viewing</button>
                        </div>
                    </div>
                `).join('');
            }
            
            // --- MODAL & BOOKING LOGIC ---
            function openModal(modal) {
                modal.classList.add('flex');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    modal.querySelector('.modal-content').classList.remove('scale-95', 'opacity-0');
                }, 10);
            }

            function closeModal(modal) {
                modal.classList.add('opacity-0');
                modal.querySelector('.modal-content').classList.add('scale-95', 'opacity-0');
                setTimeout(() => modal.classList.remove('flex'), 300);
            }

            function openBookingModal(config) {
                const { type, title, id } = config;
                bookingContent.innerHTML = `
                    <h2 class="text-3xl font-oswald font-bold text-white mb-2">${type === 'viewing' ? 'Book Viewing' : 'Book Service'}: <span class="text-sky-400">${title}</span></h2>
                    <p class="text-gray-400 mb-6">Select an available date and time slot.</p>
                    <form id="booking-form" data-booking-type="${type}" data-booking-id="${id}" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="font-semibold text-lg mb-3">1. Select Date</h3>
                            <div id="date-picker" class="grid grid-cols-3 gap-2"></div>
                            <h3 class="font-semibold text-lg mt-6 mb-3">2. Select Time</h3>
                            <div id="time-picker" class="grid grid-cols-3 gap-2"></div>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg mb-3">3. Your Details</h3>
                            <input type="text" id="viewer-name" placeholder="Full Name" class="w-full bg-slate-700 text-white p-3 rounded-lg mb-3" required>
                            <input type="email" id="viewer-email" placeholder="Email Address" class="w-full bg-slate-700 text-white p-3 rounded-lg mb-4" required>
                            <button type="submit" class="w-full bg-sky-500 text-white font-bold py-3 rounded-lg hover:bg-sky-600 transition">Confirm Booking</button>
                            <button type="button" id="cancel-booking-btn" class="w-full mt-2 text-gray-400 hover:text-white transition">Cancel</button>
                        </div>
                    </form>
                `;
                generateDateSlots();
                openModal(bookingModal);
            }

            function generateDateSlots() {
                const datePicker = document.getElementById('date-picker');
                if (!datePicker) return;
                const today = new Date();
                let datesHtml = '';
                for (let i = 0; i < 6; i++) {
                    const date = new Date(today);
                    date.setDate(today.getDate() + i);
                    if (date.getDay() === 0) continue; // Skip Sundays
                    const day = date.toLocaleDateString('en-ZA', { weekday: 'short' });
                    const dayNum = date.getDate();
                    datesHtml += `<div class="date-slot border border-border-color rounded-lg p-3 text-center" data-date="${date.toISOString().split('T')[0]}">
                        <p class="font-bold">${day}</p>
                        <p class="text-2xl">${dayNum}</p>
                    </div>`;
                }
                datePicker.innerHTML = datesHtml;
            }

            function generateTimeSlots(selectedDate) {
                const timePicker = document.getElementById('time-picker');
                if (!timePicker) return;
                const timeSlots = ['09:00', '10:00', '11:00', '14:00', '15:00', '16:00'];
                let timesHtml = '';
                const now = new Date();
                const selected = new Date(selectedDate + 'T00:00:00');
                
                timeSlots.forEach(time => {
                    const [hour, minute] = time.split(':');
                    const slotTime = new Date(selected);
                    slotTime.setHours(hour, minute, 0, 0);
                    const isDisabled = slotTime < now;
                    timesHtml += `<div class="time-slot border border-border-color rounded-lg p-3 text-center ${isDisabled ? 'disabled' : ''}" data-time="${time}">
                        ${time}
                    </div>`;
                });
                timePicker.innerHTML = timesHtml;
            }

            // --- EVENT LISTENERS ---
            carListingsContainer.addEventListener('click', e => {
                const btn = e.target.closest('.book-viewing-btn');
                if (btn) {
                    const carId = parseInt(btn.dataset.id);
                    const car = carData.find(c => c.id === carId);
                    openBookingModal({ type: 'viewing', title: `${car.make} ${car.model}`, id: carId });
                }
            });

            pricingTiersContainer.addEventListener('click', e => {
                const btn = e.target.closest('.book-service-btn');
                if (btn) {
                    const serviceName = btn.dataset.serviceName;
                    openBookingModal({ type: 'service', title: serviceName, id: serviceName });
                }
            });

            bookingModal.addEventListener('click', e => {
                const target = e.target;
                if (target.closest('#cancel-booking-btn') || target === bookingModal) {
                    closeModal(bookingModal);
                }
                
                const dateSlot = target.closest('.date-slot');
                if (dateSlot) {
                    document.querySelectorAll('.date-slot').forEach(s => s.classList.remove('selected'));
                    dateSlot.classList.add('selected');
                    generateTimeSlots(dateSlot.dataset.date);
                }

                const timeSlot = target.closest('.time-slot:not(.disabled)');
                if (timeSlot) {
                    document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
                    timeSlot.classList.add('selected');
                }
            });

            bookingModal.addEventListener('submit', e => {
                e.preventDefault();
                const form = e.target;
                if (!form) return;

                const name = form.querySelector('#viewer-name').value;
                const selectedDate = form.querySelector('.date-slot.selected');
                const selectedTime = form.querySelector('.time-slot.selected');
                
                if (!name || !selectedDate || !selectedTime) {
                    alert('Please fill in your name and select a date and time.');
                    return;
                }
                
                const type = form.dataset.bookingType;
                const id = form.dataset.bookingId;
                const date = new Date(selectedDate.dataset.date).toLocaleDateString('en-ZA', { day: 'numeric', month: 'long' });
                const datetime = `${date} at ${selectedTime.dataset.time}`;

                document.getElementById('conf-name').textContent = name;
                let confMessage = '';
                if (type === 'viewing') {
                    const car = carData.find(c => c.id === parseInt(id));
                    confMessage = `Your viewing for the <span class="font-bold">${car.make} ${car.model}</span> is scheduled for <span class="font-bold">${datetime}</span>. We've sent a confirmation to your email.`;
                } else {
                    confMessage = `Your <span class="font-bold">${id}</span> service is booked for <span class="font-bold">${datetime}</span>. We look forward to seeing you!`;
                }
                document.getElementById('conf-message').innerHTML = confMessage;
                
                closeModal(bookingModal);
                openModal(confirmationModal);
            });

            document.getElementById('close-conf-modal-btn').addEventListener('click', () => closeModal(confirmationModal));

            document.getElementById('year').textContent = new Date().getFullYear();

            // --- INITIALIZATION ---
            renderPricing();
            renderCars();
        });
    </script>
</body>
</html>
